(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d615748"],{"1a24":function(t,e,r){"use strict";r("51a9")},2336:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main"},[e("h1",{staticClass:"heading"},[t._v(t._s(t.$t("REQUESTS")))]),e("aside",{staticClass:"filters"},[e("requests-filter",{attrs:{filter:t.filter.filter,price:t.filter.price}})],1),e("div",{staticClass:"apps"},[t.isLoading||t.apps.length?t._e():e("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("NO_REQUESTS_FOUND")))]),t._l(t.apps,(function(r){return e("app",{key:r.id,ref:"app",refInFor:!0,attrs:{isRequestable:!0,type:"ios",app:r},on:{request:function(e){return t.requestOld(r)}}})})),e("loader",{directives:[{name:"show",rawName:"v-show",value:!t.isLastPage,expression:"!isLastPage"}]})],2),e("aside",{staticClass:"notifications"},[e("div",{staticClass:"notification"},[e("h3",{staticClass:"notification__heading"},[t._v(t._s(t.$t("REQUEST_FOR_APP")))]),e("p",{staticClass:"notification__text"},[t._v("\n        "+t._s(t.$t("AUTOMATIC_REQUESTS_TERMS"))+"\n      ")]),t.$store.getters.isDeviceLinked?e("button",{staticClass:"notification__link",on:{click:t.requestNew}},[t._v("\n        "+t._s(t.$t("REQUEST_APP_TO_BE_UPLOADED"))+"\n      ")]):e("router-link",{staticClass:"notification__link",attrs:{to:"/link"}},[t._v("\n        "+t._s(t.$t("LINK_YOUR_DEVICE"))+"\n      ")])],1)]),e("v-popup",{staticClass:"request-modal",attrs:{name:"request"},on:{closed:t.clearRequestPopup},scopedSlots:t._u([{key:"footer",fn:function(){return[e("button",{staticClass:"g-button",on:{click:function(e){return t.$modal.hide("request")}}},[t._v("\n        "+t._s(t.$t("CANCEL"))+"\n      ")]),e("button",{staticClass:"g-button g-button_primary",on:{click:t.request}},[e("loader",{directives:[{name:"show",rawName:"v-show",value:t.requesting,expression:"requesting"}],attrs:{size:"13px",border:"3px",absolute:""}}),t._v("\n        "+t._s(t.$t("OK_BUTTON"))+"\n      ")],1)]},proxy:!0}])},[t._v("\n    "+t._s(t.$t("COPY_PASTE_APPSTORE_URL"))+"\n\n    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestUrl,expression:"requestUrl"}],ref:"requestUrlInput",staticClass:"input",domProps:{value:t.requestUrl},on:{input:function(e){e.target.composing||(t.requestUrl=e.target.value)}}}),e("v-checkbox",{staticClass:"request-modal__checkbox",model:{value:t.isRequestVersionInputVisible,callback:function(e){t.isRequestVersionInputVisible=e},expression:"isRequestVersionInputVisible"}},[t._v(t._s(t.$t("OLDER_VERSION")))]),t.isRequestVersionInputVisible?[e("div",[t._v(t._s(t.$t("ENTER_VERSION")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestVersion,expression:"requestVersion"}],ref:"requestVersionInput",staticClass:"input",domProps:{value:t.requestVersion},on:{input:function(e){e.target.composing||(t.requestVersion=e.target.value)}}})]:t._e()],2)],1)},i=[],s=r("612c"),o=r("555f"),a=function(){var t=this,e=t._self._c;return e("modal",{staticClass:"modal",attrs:{name:t.name,pivotY:.1,width:300,height:"auto",overlayTransition:""},on:{closed:function(e){return t.$emit("closed")}}},[e("div",{staticClass:"text"},[t._t("default")],2),e("div",{staticClass:"buttons"},[t._t("footer")],2)])},u=[],c={props:["name"]},l=c,p=(r("c4f3"),r("2877")),f=Object(p["a"])(l,a,u,!1,null,"e9730d58",null),d=f.exports,b=function(){var t=this,e=t._self._c;return e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.modelValue)?t._i(t.modelValue,null)>-1:t.modelValue},on:{change:function(e){var r=t.modelValue,n=e.target,i=!!n.checked;if(Array.isArray(r)){var s=null,o=t._i(r,s);n.checked?o<0&&(t.modelValue=r.concat([s])):o>-1&&(t.modelValue=r.slice(0,o).concat(r.slice(o+1)))}else t.modelValue=i}}}),e("span",{staticClass:"box"}),t._t("default")],2)},m=[],h={props:["value"],computed:{modelValue:{set:function(t){this.$emit("input",t)},get:function(){return this.value}}}},v=h,y=(r("d9c6"),Object(p["a"])(v,b,m,!1,null,"019ac39f",null)),_=y.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filters"},[e("h2",{staticClass:"filters__heading"},[e("img",{staticClass:"filters__icon",attrs:{src:r("47d0")("./".concat(t.BRAND_KEY,"/images/icon-filter.svg"))}}),t._v("\n    "+t._s(t.$t("FILTER_BY"))+"\n  ")]),e("v-select",{staticClass:"select",attrs:{options:[{label:t.$t("NEW"),value:"new"},{label:t.$t("NOT_FULFILLED"),value:"not_fulfilled"}],reduce:function(t){return t.value},value:t.filter,searchable:!1,placeholder:t.$t("STATUS")},on:{input:function(e){return t.updateParams({filter:e})}}}),e("v-select",{staticClass:"select",attrs:{value:t.price,options:[{label:t.$t("PAID"),value:"1"},{label:t.$t("FREE"),value:"2"}],reduce:function(t){return t.value},searchable:!1,placeholder:t.$t("PRICE")},on:{input:function(e){return t.updateParams({price:e})}}})],1)},q=[];function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e,r){return e=w(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=$(t,"string");return"symbol"===O(e)?e:String(e)}function $(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var j={props:["filter","price"],methods:{updateParams:function(t){var e=S(S({},this.$route.query),t);Object.keys(e).forEach((function(t){e[t]||delete e[t]})),this.$router.push({query:e})}}},V=j,C=(r("1a24"),Object(p["a"])(V,g,q,!1,null,"3e4ad7bc",null)),R=C.exports,A=r("2ef0");function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function U(t){return I(t)||x(t)||L(t)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,e){if(t){if("string"===typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}function x(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function I(t){if(Array.isArray(t))return N(t)}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){Q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t,e,r){return e=Y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y(t){var e=B(t,"string");return"symbol"===k(e)?e:String(e)}function B(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var K={components:{App:s["a"],Loader:o["a"],VPopup:d,VCheckbox:_,RequestsFilter:R},data:function(){return{isLoading:!1,isLastPage:!1,page:1,apps:[],requesting:!1,isRequestVersionInputVisible:!1,requestUrl:"",requestVersion:"",params:F({},this.$route.query)}},computed:{title:function(){return this.$t("REQUESTS")},filter:function(){return{filter:this.params.filter,price:this.params.price}}},watch:{isRequestVersionInputVisible:function(t){var e=this;t&&this.$nextTick().then((function(){return e.$refs.requestVersionInput.focus()}))},"$route.query":{handler:function(){"requests"!==this.$route.name||Object(A["isEqual"])(this.$route.query,this.params)||(this.params=F({},this.$route.query),this.isLastPage=!1,this.apps=[],this.page=1,this.getApps())},deep:!0}},methods:{getApps:function(){var t=this;this.isLoading=!0;var e=F({},this.filter);return this.$api.getRequests(this.page,e).then((function(r){Object(A["isEqual"])(e,t.filter)&&(r=r.map((function(t){return"0.00"===t.price?t.price="free":t.price+=" EUR",t})),t.apps=[].concat(U(t.apps),U(r)),t.isLoading=!1,r.length<25&&(t.isLastPage=!0))}))},requestOld:function(t){t.am_i_requested||(t.am_i_requested=1,t.requesters_amount-=-1,this.$api.requestApp("/app/id".concat(t.trackid)).catch((function(){t.requested=!1,t.am_i_requested=0,t.requesters_amount-=1})))},requestNew:function(){var t=this;this.$modal.show("request"),this.$nextTick().then((function(){return t.$refs.requestUrlInput.focus()}))},request:function(){var t=this;this.requesting||(this.requesting=!0,this.$api.requestApp(this.requestUrl,this.requestVersion).then((function(){t.$modal.hide("request"),t.$notify({type:"success",text:t.$t("APP_REQUESTED_SUCCESSFULLY")}),t.apps=[],t.page=1,t.getApps()})).finally((function(){t.requesting=!1})))},clearRequestPopup:function(){this.requestUrl="",this.requestVersion="",this.isRequestVersionInputVisible=!1},handleScroll:Object(A["throttle"])((function(){if(!this.isLoading&&!this.isLastPage&&this.$refs.app){var t=this.apps.length-20,e=this.$refs.app[t>=0?t:0].$el.offsetTop;window.scrollY>e&&(this.page+=1,this.getApps())}}),1e3)},serverPrefetch:function(){return this.getApps()},created:function(){this.getApps()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},M=K,J=(r("3072"),Object(p["a"])(M,n,i,!1,null,"2b9f1a32",null));e["default"]=J.exports},"2a3e":function(t,e,r){},3072:function(t,e,r){"use strict";r("2a3e")},"3b9d":function(t,e,r){},"51a9":function(t,e,r){},bb531:function(t,e,r){},c4f3:function(t,e,r){"use strict";r("bb531")},d9c6:function(t,e,r){"use strict";r("3b9d")}}]);
//# sourceMappingURL=chunk-2d615748.52a0b118.js.map